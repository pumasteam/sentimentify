var j=Object.defineProperty,T=Object.defineProperties;var L=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var O=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var S=(s,t,n)=>t in s?j(s,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[t]=n,f=(s,t)=>{for(var n in t||(t={}))O.call(t,n)&&S(s,n,t[n]);if(x)for(var n of x(t))F.call(t,n)&&S(s,n,t[n]);return s},q=(s,t)=>T(s,L(t));import{j as v,L as k,r as p,u as M,C as P,a as R,T as A,t as N,b as w,R as b,c as z,d as E}from"./vendor.28e26cbd.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&l(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};I();const D="_header_1gzu7_1",H="_title_1gzu7_8",W="_link_1gzu7_16",B="_add_1gzu7_20";var y={header:D,title:H,link:W,add:B};const e=v.exports.jsx,c=v.exports.jsxs,_=v.exports.Fragment,J=()=>c("header",{className:y.header,children:[e(k,{href:"/",children:e("a",{className:y.link,children:e("h1",{className:y.title,children:"Sentimentify"})})}),e(k,{href:"/add",children:e("a",{className:y.add,children:"Add your playlist"})})]}),Y="_content_1pxtc_1",K="_sun_1pxtc_8",Q="_cloud_1pxtc_21",G="_cloudAnimation_1pxtc_1",U="_hero_1pxtc_75",V="_title_1pxtc_80",X="_subtitle_1pxtc_87";var d={content:Y,sun:K,cloud:Q,cloudAnimation:G,hero:U,title:V,subtitle:X};const Z=()=>c(_,{children:[c("section",{className:d.content,children:[e("div",{class:d.cloud}),e("div",{class:d.sun}),e("div",{class:d.cloud})]}),c("section",{className:d.hero,children:[e("p",{className:d.title,children:"Discover songs that go with your mood"}),e("p",{className:d.subtitle,children:"We just need a picture of you"})]})]}),ee="_container_13vxu_1",te="_button_13vxu_7",se="_camera_13vxu_22";var g={container:ee,button:te,camera:se};const oe=()=>{const[s,t]=p.exports.useState(!1),[n,l]=M(),o=u=>{fetch("https://a8f7-2600-3c02-00-f03c-93ff-fe3b-727b.ngrok.io/get-sentiment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({msg:u})}).then(i=>i.json()).then(i=>{i[0]!=null&&l(`/search/${i[0]}`)})},r=()=>t(!0);return e("section",{className:g.container,children:s?e("section",{className:g.camera,children:e(P,{onTakePhoto:u=>{o(u)}})}):e("button",{onClick:()=>r(),className:g.button,children:"Take photo"})})},ne="_form_p5qq5_1",re="_title_p5qq5_9",ie="_select_p5qq5_15",ce="_input_p5qq5_25",le="_submit_p5qq5_35";var m={form:ne,title:re,select:ie,input:ce,submit:le};const ae=()=>{const{register:s,handleSubmit:t,formState:{errors:n}}=R(),l=o=>{console.log(o),N.promise(fetch("https://a8f7-2600-3c02-00-f03c-93ff-fe3b-727b.ngrok.io/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),{loading:"Saving...",success:e("b",{children:"Playlist saved!"}),error:e("b",{children:"Could not save."})})};return console.log(n),c(_,{children:[c("form",{className:m.form,onSubmit:t(l),children:[e("h2",{className:m.title,children:"Add your playlist"}),c("select",q(f({className:m.select},s("sentiment",{required:!0})),{children:[e("option",{value:"happy",children:"Happy"}),e("option",{value:"sad",children:"Sad"}),e("option",{value:"neutral",children:"Neutral"}),e("option",{value:"angry",children:"Angry"}),e("option",{value:"surprise",children:"Surprise"})]})),e("input",f({className:m.input,type:"text",placeholder:"Name"},s("name",{required:!0}))),e("input",f({className:m.input,type:"text",placeholder:"Spotify playlist id"},s("url",{required:!0}))),e("input",{className:m.submit,type:"submit"})]}),e(A,{})]})},ue="_container_riq2i_1",de="_title_riq2i_8",me="_subtitle_riq2i_14",he="_iframe_riq2i_19",pe="_list_riq2i_26",_e="_list_item_riq2i_35";var a={container:ue,title:de,subtitle:me,iframe:he,list:pe,list_item:_e};const fe=s=>fetch(s).then(t=>t.json()),ye=({mood:s})=>{const[t,n]=p.exports.useState(0),[l,o]=p.exports.useState(!1),[r,u]=p.exports.useState(0),{data:i,error:xe}=w(`https://a8f7-2600-3c02-00-f03c-93ff-fe3b-727b.ngrok.io/sentiment/${s}`,fe);return p.exports.useEffect(()=>{if(document.monetization&&o(!0),i){const h=Math.floor(Math.random()*i._items.length);n(h)}},[i,l]),i?(r==0&&(l?N.success("Thank you for your support! you have access to all the playlists"):N.error("To view all playlists, support us with coil!")),c("section",{className:a.container,children:[e("h2",{className:a.title,children:`Your mood is ${s}`}),i._count>0?c(_,{children:[e("p",{className:a.subtitle,children:"Recommended playlist"}),e("iframe",{className:a.iframe,style:{borderRadius:"12"},src:`https://open.spotify.com/embed/playlist/${i._items[t].url}`,frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"})]}):e("p",{className:a.subtitle,children:"We don't have music for that mood :("}),l&&c(_,{children:[e("h2",{className:a.title,children:"More playlists"}),e("ul",{className:a.list,children:i._items.map((h,C)=>!h.key===i._items[t].key?e("li",{className:a.list_item,children:e("a",{href:`https://open.spotify.com/playlist/${h.url}`,children:h.name})},C):null)})]}),e(A,{})]})):e("h2",{className:a.title,children:"Loading..."})},be="_footer_h6kr0_1",ge="_title_h6kr0_5";var $={footer:be,title:ge};const Ne=()=>e("footer",{className:$.footer,children:e("p",{className:$.title,children:`\xA9\uFE0F ${new Date().getFullYear()} - Pumas Team`})}),ve=()=>c(_,{children:[e(J,{}),c(b,{path:"/",children:[e(Z,{}),e(oe,{})]}),e(b,{path:"/add",children:e(ae,{})}),e(b,{path:"/search/:mood",children:({mood:s})=>e(ye,{mood:s})}),e(Ne,{})]});z.render(e(E.StrictMode,{children:e(ve,{})}),document.getElementById("root"));
